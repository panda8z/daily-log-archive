# [linux下在多个文件夹中查找指定字符串的命令](https://www.cnblogs.com/wy2325/p/3559323.html)

例如，想要在当前文件夹下的多个.c或者.txt文件中查找“shutdown”字符串，

可以使用“`grep shutdown ./*.c`”或“`grep shutdown ./*.txt`”即可

使用find命令如下：find /test -type f -name "*.txt" -exec grep -l "shutdown" {} \;

# [linux下大文件查询具体段内容](https://www.cnblogs.com/brent-leon/p/11975003.html)

有时候我们的文件比较大,比如几十G,甚至上百G.这么大的文件怎么查询呢?

有很多种方法都可以实现,这儿选择用 cat 这个命令实现.

先来看看 cat 的介绍

![img](https://img2018.cnblogs.com/i-beta/1023035/201912/1023035-20191203093929293-1061470464.png)

 

 cat 有个对应的命令 tac,cat反着写,cat是从文件开头查找,tac是从文件结尾开始查找.

查询某个字符串在文件中出现的前10次,只匹配该字符串行.

命令: `cat -n 文件名 | grep '查询字符串' | head -n 10` 

查询某个字符串在文件中出现的最后10次,只匹配该字符串行

命令: `cat -n 文件名 | grep '查询字符串' | tail -n 10` 

 

查询某个字符串在文件中出现的最后1次,并且查询字符串之后的100行

命令: `cat -n 文件名 | grep '查询字符串' | tail -n 1 // 找到该行的行号`

命令: `cat -n 文件名 | tail -n +行号 | head -n 100` 

 

查询某个字符串在文件中出现的最后1次,并且查询字符串之前的100行

命令: `cat -n 文件名 | grep '查询字符串' | tail -n 1 // 找到该行的行号`

命令: `cat -n 文件名 | head -n +行号 | tail -n 100` 

# linux查找大文件指定内容的实现方法

  

以大划小思想，然后重定向。

linux有时候会遇到文件很大，关键字查找都要超过整屏，无法查看到所有内容。比如一个非常大的日志文件info.log，我们要查看某段字符所有日志，可以同 `cat info.log | grep ‘1711178968'` ，如果显示过多，此时可以加时间，行数控制。也可以通过 '>>'指令。 `cat info.log | grep ‘1711178968'  >> temp.log` 将中间结果暂存下来，通过more ，less等工具一页页查看temp.log文件

**如果是明确一定时间范围的日志还是可以根据时间截取日志：
**

```
// 截取一定时段的日志``sed -n '/2018-10-25 17:30:41/,/2018-10-25 21:47:02/p' root.2018-10-25.log > update.log
```

在25号日志里截取17点30到21点47之间的日志。

通过more指令查看。

然后 /${关键字} 搜索，比如 /1711178968 ，n下一条，b上一条



# linux查找目录下的所有文件中是否含有某个字符串

 

用grep遍历目标目录下的所有文bai件


比如：du你的字符是 “some_code” ,文件夹名字是  YOUR_DIR

1
grep -R   "some_code"  YOUR_DIR

如果你zhi不需要dao显示内容，只需要含有某个字符的文件：

1
grep -lR   "some_code"  YOUR_DIR

附录：

grep -R 和 -l 参数

　　-R, -r, --recursive

递归地读每一目录下的所有文件。这样做和 -d recurse 选项等价。


　　-l, --files-with-matches

禁止通常的输出；作为替代，打印出每个在通常情况下会产生输出的输入文件的名字。对每个文件的扫描在遇到第一个匹配的时候就会停止。


ps：

如果目录下有二进制文件，也可能匹配到。